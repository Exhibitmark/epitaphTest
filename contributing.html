<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Contribute to Epitaph</title>

  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
  <!-- Icons -->
  <link rel="stylesheet" href="css/all.min.css" type="text/css">
  <link rel="stylesheet" href="css/epitaph.css" type="text/css">
</head>

<body class="row g-sidenav-show">
  <div class="co-3">
    <!-- Sidenav -->
    <nav class="sidenav navbar navbar-vertical fixed-left navbar-expand-xs navbar-light bg-side-dark" id="sidenav-main">
      <div class="scrollbar-inner">
        <!-- Brand -->
        <div class="sidenav-header  align-items-center">
          <a style="background-color:transparent !important" class="navbar-brand" href="./index.html">
            <div style="justify-content:center;margin-top: 8px;" class="row">
              <img style="margin-right:10px" src="assets/logo.svg" class="navbar-brand-img" alt="..."></img>
              <h2 style="color:#ebebeb">EPITAPH</h2>
            </div>
          </a>
        </div>
        <div class="navbar-inner">
          <!-- Collapse -->
          <div class="collapse navbar-collapse" id="sidenav-collapse-main">
            <!-- Nav items -->
            <ul class="navbar-nav">
              <li class="nav-item">
                <a style="padding-left:1.5rem" class="nav-link active" href="./index.html">
                  <span class="nav-link-text">Home</span>
                </a>
              </li>
            </ul>
            <!-- Divider -->
            <hr class="my-3">
            <!-- Heading -->
            <h6 class="navbar-heading p-0 text-muted">
              <span class="docs-normal">Knowledge Base</span>
            </h6>
            <!-- Navigation -->
            <ul class="navbar-nav mb-md-3">
              <li class="nav-item">
                <a id="gamesHeader" class="nav-link top" target="_blank">
                  <i class="fas fa-dice-d6"></i>
                  <span class="nav-link-text">Games</span>
                  <i style="min-width: 0rem;" class="fas fa-angle-right angle-ico"></i>
                </a>
              </li>
              <div class="drop">
                <li class="nav-item nav-border-bot">
                  <a id="CE" class="nav-link nav-sub-item" target="_blank">
                    <span class="nav-link-text">Halo CE</span>
                  </a>
                </li>
                <li class="nav-item nav-border-bot">
                  <a id="H2" class="nav-link nav-sub-item" target="_blank">
                    <span class="nav-link-text">Halo 2</span>
                  </a>
                </li>
                <li class="nav-item nav-border-bot">
                  <a id="H3" class="nav-link nav-sub-item" target="_blank">
                    <span class="nav-link-text">Halo 3</span>
                  </a>
                </li>
                <li class="nav-item nav-border-bot">
                  <a id="Reach" class="nav-link nav-sub-item" target="_blank">
                    <span class="nav-link-text">Halo Reach</span>
                  </a>
                </li>
                <li class="nav-item nav-border-bot">
                  <a id="H4" class="nav-link nav-sub-item" target="_blank">
                    <span class="nav-link-text">Halo 4</span>
                  </a>
                </li>
              </div>
              
              <li class="nav-item">
                <a class="nav-link top no-hover ico" target="_blank">
                  <i class="null-nav fas fa-code"></i>
                  <span class="nav-link-text null-nav">Documentation</span>
                </a>
              </li>
            </ul>
            <!-- Divider -->
            <hr class="my-3">
            <!-- Heading -->
            <h6 class="navbar-heading p-0 text-muted">
              <span class="docs-normal">Tools</span>
            </h6>
            <!-- Navigation -->
            <ul class="navbar-nav mb-md-3">
              <li class="nav-item">
                <a class="nav-link" href="" target="_blank">
                  <i class="fas fa-hammer"></i>
                  <span class="nav-link-text">All</span>
                </a>
              </li>
            </ul>
            <!-- Divider -->
            <hr class="my-3">
            <!-- Heading -->
            <h6 class="navbar-heading p-0 text-muted">
              <span class="docs-normal">Contributing</span>
            </h6>
            <!-- Navigation -->
            <ul class="navbar-nav mb-md-3">
              <li class="nav-item">
                <a class="nav-link" href="./contributing.html" target="_blank">
                  <i class="fas fa-hands-helping"></i>
                  <span class="nav-link-text">Contribute</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  </div>
  <div class="co-9">
    <!-- Main content -->
    <div class="main-content" id="panel">
      <div class="header pb-6">
        <div class="container-fluid">
          <div class="header-body">
            <div class="row align-items-center py-4">
              <div class="col-lg-6 col-7">
                <h6 class="h2 text-white d-inline-block mb-0">Contribute</h6>
              </div>
            </div>
            
            <div class="row">
              <div class="col-xl-8 col-md-6">
                <span>Welcome to the Epitaph wikipedia. Thank you for displaying interest in sharing your valuable knowledge to the Halo modding community.</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Page content -->
      <div class="container-fluid">
        <div class="row">
          <div class="col-xl-8">
            <div class="row">
              <div class="col-xl-4 form-group">
                <label class="labels" for="author">Author</label>
                <input type="text" class="form-control" id="author" placeholder="Username">
              </div>
              <div class="labels" class="col-xl-4 form-group">
                <label for="category">Category</label>
                <select required="true" class="form-control" id="category">
                  <option>Choose Category of Guide</option>
                  <option>Halo</option>
                  <option>Documentation</option>
                  <option>Tools</option>
                </select>
              </div>
              <div class="hidden col-xl-4 form-group">
                <label for="docSelect">Select Documentation Category</label>
                <select class="subcat form-control" id="docSelect">
                  <option>Example</option>
                </select>
              </div>
              <div class="hidden col-xl-4 form-group">
                <label class="labels" for="haloSelect">Game</label>
                <select class="subcat form-control" id="haloSelect">
                  <option>Halo CE/CEA</option>
                  <option>Halo 2/Anniversary</option>
                  <option>Halo 3</option>
                  <option>Halo Reach</option>
                  <option>Halo 4</option>
                  <option>Tools</option>
                </select>
              </div>
              <div class="hidden col-xl-4 form-group">
                <label for="toolSelect">Select Tool Category</label>
                <select class="subcat form-control" id="toolSelect">
                  <option>Map Modding</option>
                  <option>Tags</option>
                  <option>Misc</option>
                </select>
              </div>
            </div>
            <label class="labels" for="browse">Choose guide to upload</label>
            <div class="input-group mb-3">
              <input type="text" id="uploadText" class="form-control" placeholder="Browse for file..." aria-label="Browse for file..." aria-describedby="browser">
              <div class="input-group-append">
                  <button class="btn btn-outline-primary" type="button" id="browse">Browse...</button>
              </div>
            </div>
          <input type="file" id="uploadFile" style="display: none;">
          </div>
        </div>
        <button style="margin-top:1rem;" class="btn btn-primary" type="submit" id="upload">Submit</button>
      </div>
    </div>
  </div>


  <!-- Core -->
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/epitaph.min.js"></script>
  <script src="js/atomic.polyfills.min.js"></script>
  <script src="js/contribute.js"></script>

  <script>
    $(document).ready(function (){
      //Handles Sidemenu 
      $(".top").click(function(e) {
        let parent = $(e.currentTarget).parent('.nav-item')
        $(e.currentTarget).children('.fas').toggleClass('rotate90')
        $(parent).next('.drop').toggleClass('nav-border-top drop-show')
      });

      //Allows for custom browse button
      $("#browse").click(function(){
        $("#uploadFile").click();
      });

      //Sets selected file name to field
      $("#uploadFile").change(function(e){
        let filename = $("#uploadFile").prop("files")[0].name
        info.filename = filename
        info.size = $("#uploadFile").prop("files")[0].size
        $("#uploadText").val(filename)
      });

      //Shows proper sub-category. REDO THIS WITH OBJECTS
      $("#category").change(function(e){
        let type = e.currentTarget.value
        if(type == "Halo"){
          $('#haloSelect').parent().toggleClass('hidden');
        }
      });

      //Stores sub-category result.
      $(".subcat").change(function(e){
        let type = e.currentTarget.value
        info.subcategory = type.substr(5,type.length-1)
      });

      //Allows for custom browse button
      $("#upload").click(function(){
        info.author = $("#author").val(),
        info.category = $("#category").val()
        validation(info)
      });

    });
  </script>
</body>

</html>
